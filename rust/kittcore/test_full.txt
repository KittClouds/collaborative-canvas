
running 153 tests
test resorank::config::tests::test_capacity_estimate ... ok
test resorank::math::tests::test_adaptive_alpha ... ok
test resorank::config::tests::test_default_config ... ok
test resorank::config::tests::test_corpus_size_classification ... ok
test resorank::entropy::tests::test_entropy_cache_lru_eviction ... ok
test resorank::entropy::tests::test_entropy_cache_basic ... ok
test resorank::incremental::tests::test_reset ... ok
test resorank::entropy::tests::test_query_entropy_stats ... ok
test resorank::math::tests::test_adaptive_segment_count ... ok
test resorank::incremental::tests::test_incremental_single_term ... ok
test resorank::incremental::tests::test_incremental_multi_term ... ok
test resorank::math::tests::test_calculate_idf ... ok
test resorank::math::tests::test_normalized_term_frequency ... ok
test resorank::math::tests::test_pop_count ... ok
test resorank::math::tests::test_saturate ... ok
test resorank::math::tests::test_sigmoid ... ok
test resorank::proximity::tests::test_global_proximity ... ok
test resorank::proximity::tests::test_global_proximity_no_overlap ... ok
test resorank::proximity::tests::test_idf_weighted_proximity ... ok
test resorank::proximity::tests::test_pairwise_proximity ... ok
test resorank::proximity::tests::test_phrase_detection ... ok
test resorank::scorer::tests::test_index_and_score ... ok
test resorank::scorer::tests::test_explain_score ... ok
test resorank::scorer::tests::test_multi_term_query ... ok
test resorank::scorer::tests::test_remove_document ... ok
test resorank::scorer::tests::test_search ... ok
test resorank::types::tests::test_document_metadata ... ok
test resorank::types::tests::test_token_metadata ... ok
test scanner::change::tests::test_check_result ... ok
test scanner::change::tests::test_different_content_changed ... ok
test scanner::change::tests::test_empty_text ... ok
test scanner::change::tests::test_first_check_returns_changed ... ok
test scanner::change::tests::test_hash_deterministic ... ok
test scanner::change::tests::test_reset ... ok
test scanner::change::tests::test_same_content_unchanged ... ok
test scanner::change::tests::test_skip_count ... ok
test scanner::change::tests::test_skip_rate ... ok
test scanner::change::tests::test_whitespace_matters ... ok
test scanner::core::tests::test_calendar_data_parsing ... ok
test scanner::core::tests::test_config_defaults ... ok
test scanner::core::tests::test_entity_data_parsing ... ok
test scanner::conductor::tests::test_conductor_rejects_scan_before_init ... ok
test scanner::document::tests::test_basic_scan_returns_result ... ok
test scanner::document::tests::test_all_timings_populated ... ok
test scanner::conductor::tests::test_conductor_finds_entities_after_hydration ... ok
test scanner::conductor::tests::test_conductor_auto_inits_on_hydrate ... ok
test scanner::conductor::tests::test_conductor_scan_returns_relations ... ok
test scanner::conductor::tests::test_conductor_reset_clears_ready_state ... ok
test scanner::conductor::tests::test_conductor_state_progression ... ok
test scanner::conductor::tests::test_conductor_force_scan_works_before_ready ... ok
test scanner::conductor::tests::test_conductor_allows_scan_after_hydration ... ok
test scanner::conductor::tests::test_conductor_rejects_scan_after_init_but_before_hydrate ... ok
test scanner::conductor::tests::test_conductor_rehydration_replaces_entities ... ok
test scanner::document::tests::test_content_hash_returned ... ok
test scanner::document::tests::test_scan_extracts_implicit_mentions ... ok
test scanner::implicit::tests::test_alias_matching ... ok
test scanner::implicit::tests::test_add_entity_incremental ... ok
test scanner::document::tests::test_reset_clears_cache ... ok
test scanner::implicit::tests::test_empty_text ... ok
test scanner::document::tests::test_scan_detects_changes ... ok
test scanner::implicit::tests::test_case_insensitive_matching ... ok
test scanner::document::tests::test_scan_extracts_relations ... ok
test scanner::implicit::tests::test_hydrate_and_find_single_entity ... ok
test scanner::implicit::tests::test_no_match ... ok
test scanner::implicit::tests::test_multiple_entities_same_text ... ok
test scanner::implicit::tests::test_overlapping_keeps_longer ... ok
test scanner::implicit::tests::test_smart_alias_faction_acronym ... ok
test scanner::implicit::tests::test_pattern_count ... ok
test scanner::implicit::tests::test_confidence_scores ... ok
test scanner::implicit::tests::test_clear ... ok
test scanner::implicit::tests::test_smart_alias_luffy ... ok
test scanner::document::tests::test_scan_extracts_triples ... ok
test scanner::implicit::tests::test_smart_alias_middle_last ... ok
test scanner::document::tests::test_scan_self_sufficiency ... ok
test scanner::document::tests::test_skip_rate_tracked ... ok
test scanner::implicit::tests::test_smart_alias_two_word_name ... ok
test scanner::incremental::tests::test_compute_delta_append ... ok
test scanner::incremental::tests::test_chunk_text_multiple_paragraphs ... ok
test scanner::incremental::tests::test_chunk_text_single_paragraph ... ok
test scanner::incremental::tests::test_compute_delta_append_uses_incremental ... ok
test scanner::incremental::tests::test_chunk_text_giant_blob_fallback ... ok
test scanner::incremental::tests::test_compute_delta_no_change ... ok
test scanner::incremental::tests::test_compute_delta_full_replace ... ok
test scanner::incremental::tests::test_chunk_text_empty ... ok
test scanner::incremental::tests::test_delta_shift_at ... ok
test scanner::incremental::tests::test_delta_shift_at_multiple_changes ... ok
test scanner::incremental::tests::test_shift_items_downstream ... ok
test scanner::incremental::tests::test_should_use_incremental_low_ratio ... ok
test scanner::incremental::tests::test_should_use_incremental_high_ratio ... ok
test scanner::incremental::tests::test_should_use_incremental_too_many_chunks ... ok
test scanner::incremental::tests::test_shift_items_removes_dirty ... ok
test scanner::reflex::tests::test_case_insensitive ... ok
test scanner::reflex::tests::test_alias_matching ... ok
test scanner::reflex::tests::test_leftmost_longest ... ok
test scanner::reflex::tests::test_exact_match ... ok
test scanner::reflex::tests::test_multiple_matches ... ok
test scanner::reflex::tests::test_contains_any ... ok
test scanner::relation::tests::test_bidirectional_custom_pattern ... ok
test scanner::document::tests::test_scan_skips_unchanged ... ok
test scanner::document::tests::test_scan_self_sufficiency_sibling ... ok
test scanner::relation::tests::test_basic_extraction ... ok
test scanner::relation::tests::test_custom_patterns ... ok
test scanner::relation::tests::test_mega_dictionary_fantasy ... ok
test scanner::relation::tests::test_bidirectional_sibling_both_directions ... ok
test scanner::relation::tests::test_mega_dictionary_family ... ok
test scanner::relation::tests::test_mega_dictionary_scifi ... ok
test scanner::relation::tests::test_type_constraint_rejects_mismatched ... ok
test scanner::relation::tests::test_no_relations_when_far_apart ... ok
test scanner::relation::tests::test_bidirectional_spouse_symmetric ... ok
test scanner::relation::tests::test_pattern_count ... ok
test scanner::relation::tests::test_type_constraint_filters_correctly ... ok
test scanner::relation::tests::test_type_constraint_allows_no_kind ... ok
test scanner::relation::tests::test_non_bidirectional_single_direction ... ok
test scanner::relation::tests::test_type_constraint_case_insensitive ... ok
test scanner::syntax::tests::test_backlink ... ok
test scanner::syntax::tests::test_entity_at_prefix ... ok
test scanner::syntax::tests::test_entity_lowercase_kind ... ok
test scanner::syntax::tests::test_entity_hash_prefix_pipe_separator ... ok
test scanner::syntax::tests::test_entity_with_hyphen_in_kind ... ok
test scanner::syntax::tests::test_entity_with_subtype ... ok
test scanner::syntax::tests::test_entity_pipe_separator_with_subtype ... ok
test scanner::syntax::tests::test_entity_bang_prefix_pipe ... ok
test scanner::syntax::tests::test_entity_syntax ... ok
test scanner::syntax::tests::test_entity_mixed_case_kind ... ok
test scanner::syntax::tests::test_inline_relation ... ok
test scanner::syntax::tests::test_inline_relation_at_prefix ... ok
test scanner::syntax::tests::test_inline_relation_flexible ... ok
test scanner::syntax::tests::test_mentions ... ok
test scanner::syntax::tests::test_tag_not_html_entity ... ok
test scanner::syntax::tests::test_tags ... ok
test scanner::syntax::tests::test_triple_flexible_syntax ... ok
test scanner::document::tests::test_combined_extraction ... FAILED
test scanner::temporal::tests::test_dictionary_stats ... ok
test scanner::temporal::tests::test_era_marker ... ok
test scanner::incremental::tests::test_compute_delta_insert_middle ... FAILED
test scanner::syntax::tests::test_triple_lowercase_kinds ... ok
test scanner::temporal::tests::test_connector_direction ... ok
test scanner::temporal::tests::test_narrative_marker ... ok
test scanner::triple::tests::test_basic_triple_extraction ... ok
test scanner::triple::tests::test_case_preserved ... ok
test scanner::triple::tests::test_empty_text ... ok
test scanner::triple::tests::test_no_triples ... ok
test scanner::triple::tests::test_malformed_triples_ignored ... ok
test scanner::triple::tests::test_position_tracking ... ok
test scanner::triple::tests::test_multi_word_entities ... ok
test scanner::temporal::tests::test_relative_phrase ... ok
test scanner::syntax::tests::test_triple_syntax ... ok
test scanner::triple::tests::test_multiple_triples ... ok
test scanner::triple::tests::test_whitespace_around_components ... ok
test scanner::triple::tests::test_raw_text_preserved ... ok
test scanner::temporal::tests::test_weekday_detection ... ok
test scanner::syntax::tests::test_wikilink_simple ... ok
test scanner::syntax::tests::test_wikilink_with_label ... ok

failures:

---- scanner::document::tests::test_combined_extraction stdout ----
thread 'scanner::document::tests::test_combined_extraction' panicked at src\scanner\document.rs:690:9:
assertion `left == right` failed
  left: 4
 right: 2
stack backtrace:
   0: std::panicking::begin_panic_handler
             at /rustc/9fc6b43126469e3858e2fe86cafb4f0fd5068869\library/std\src\panicking.rs:665
   1: core::panicking::panic_fmt
             at /rustc/9fc6b43126469e3858e2fe86cafb4f0fd5068869\library/core\src\panicking.rs:76
   2: core::panicking::assert_failed_inner
             at /rustc/9fc6b43126469e3858e2fe86cafb4f0fd5068869\library/core\src\panicking.rs:413
   3: core::panicking::assert_failed<usize,usize>
             at /rustc/9fc6b43126469e3858e2fe86cafb4f0fd5068869\library\core\src\panicking.rs:373
   4: kittcore::scanner::document::tests::test_combined_extraction
             at .\src\scanner\document.rs:690
   5: kittcore::scanner::document::tests::test_combined_extraction::closure$0
             at .\src\scanner\document.rs:672
   6: core::ops::function::FnOnce::call_once<kittcore::scanner::document::tests::test_combined_extraction::closure_env$0,tuple$<> >
             at /rustc/9fc6b43126469e3858e2fe86cafb4f0fd5068869\library\core\src\ops\function.rs:250
   7: core::ops::function::FnOnce::call_once
             at /rustc/9fc6b43126469e3858e2fe86cafb4f0fd5068869\library/core\src\ops\function.rs:250
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.

---- scanner::incremental::tests::test_compute_delta_insert_middle stdout ----
thread 'scanner::incremental::tests::test_compute_delta_insert_middle' panicked at src\scanner\incremental.rs:539:9:
assertion failed: delta.should_use_incremental()
stack backtrace:
   0: std::panicking::begin_panic_handler
             at /rustc/9fc6b43126469e3858e2fe86cafb4f0fd5068869\library/std\src\panicking.rs:665
   1: core::panicking::panic_fmt
             at /rustc/9fc6b43126469e3858e2fe86cafb4f0fd5068869\library/core\src\panicking.rs:76
   2: core::panicking::panic
             at /rustc/9fc6b43126469e3858e2fe86cafb4f0fd5068869\library/core\src\panicking.rs:148
   3: kittcore::scanner::incremental::tests::test_compute_delta_insert_middle
             at .\src\scanner\incremental.rs:539
   4: kittcore::scanner::incremental::tests::test_compute_delta_insert_middle::closure$0
             at .\src\scanner\incremental.rs:530
   5: core::ops::function::FnOnce::call_once<kittcore::scanner::incremental::tests::test_compute_delta_insert_middle::closure_env$0,tuple$<> >
             at /rustc/9fc6b43126469e3858e2fe86cafb4f0fd5068869\library\core\src\ops\function.rs:250
   6: core::ops::function::FnOnce::call_once
             at /rustc/9fc6b43126469e3858e2fe86cafb4f0fd5068869\library/core\src\ops\function.rs:250
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.


failures:
    scanner::document::tests::test_combined_extraction
    scanner::incremental::tests::test_compute_delta_insert_middle

test result: FAILED. 151 passed; 2 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.26s

